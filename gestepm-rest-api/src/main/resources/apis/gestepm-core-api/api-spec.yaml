openapi: 3.0.3
info:
  title: GestEPM Core API
  version: 0.1.0
  description: GestEPM Core API
  contact:
    name: Carlos Devesa PÃ©rez
servers:
  - url: 'http://localhost:8080'
paths:
  /v1/expenses/personal/sheets:
    get:
      summary: V1 - List personal expense sheets
      responses:
        '200':
          $ref: '#/components/responses/PersonalExpenseSheetList'
      operationId: list-personal-expense-sheets-v1
      description: list-personal-expense-sheets-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order-by
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: ids
          description: Personal expense sheet identificator.
        - schema:
            type: integer
          in: query
          name: projectId
          description: Project identificator.
        - schema:
            type: integer
          in: query
          name: createdBy
          description: User creator identificator.
        - schema:
            type: string
          in: query
          name: description
          description: Personal expense sheet contains description.
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          description: Date when personal expense sheet was created.
        - schema:
            type: string
            enum:
              - PENDING
              - APPROVED
              - PAID
              - REJECTED
          in: query
          name: status
          description: Current personal expense sheet status.
        - schema:
            type: string
          in: query
          name: observations
          description: Personal expense sheet contains observations.
      tags:
        - personal-expense-sheet-v1
    post:
      summary: V1 - Create personal expense sheet
      operationId: create-personal-expense-sheet-v1
      responses:
        '200':
          $ref: '#/components/responses/PersonalExpenseSheet'
      description: create-personal-expense-sheet-v1
      requestBody:
        $ref: '#/components/requestBodies/CreatePersonalExpenseSheet'
      tags:
        - personal-expense-sheet-v1
    parameters: []
  '/v1/expenses/personal/sheets/{personalExpenseSheetId}':
    parameters:
      - name: personalExpenseSheetId
        in: path
        required: true
        schema:
          type: integer
        description: Personal expense sheet identificator.
    get:
      summary: V1 - Find personal expense sheet
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
      responses:
        '200':
          $ref: '#/components/responses/PersonalExpenseSheet'
        '404':
          description: personal-expense-sheet-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: find-personal-expense-sheet-by-id-v1
      description: find-personal-expense-sheet-by-id-v1
      tags:
        - personal-expense-sheet-v1
    patch:
      summary: V1 - Update personal expense sheet
      operationId: update-personal-expense-sheet-v1
      responses:
        '200':
          $ref: '#/components/responses/PersonalExpenseSheet'
        '404':
          description: personal-expense-sheet-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: update-personal-expense-sheet-v1
      requestBody:
        $ref: '#/components/requestBodies/UpdatePersonalExpenseSheet'
      tags:
        - personal-expense-sheet-v1
    delete:
      summary: V1 - Delete personal expense sheet
      operationId: delete-personal-expense-sheet-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: personal-expense-sheet-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: delete-personal-expense-sheet-v1
      tags:
        - personal-expense-sheet-v1
  '/v1/expenses/personal/sheets/{personalExpenseSheetId}/export':
    parameters:
      - name: personalExpenseSheetId
        in: path
        required: true
        schema:
          type: integer
        description: Personal expense sheet identificator.
    get:
      summary: V1 - Export personal expense sheet
      responses:
        '200':
          $ref: '#/components/responses/InspectionExport'
        '404':
          description: inspection-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: export-personal-expense-sheet-v1
      description: export-personal-expense-sheet-v1
      parameters: []
      tags:
        - personal-expense-sheet-v1
  '/v1/expenses/personal/sheets/{personalExpenseSheetId}/expenses':
    parameters:
      - $ref: '#/components/parameters/Personal-Expense-Sheet-Id'
    get:
      summary: V1 - List personal expenses
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order-by
      tags:
        - personal-expense-v1
      responses:
        '200':
          $ref: '#/components/responses/PersonalExpenseList'
        '404':
          description: personal-expense-sheet-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: list-personal-expenses-v1
      description: list-personal-expenses-v1
    post:
      summary: V1 - Create personal expense
      operationId: create-personal-expense-v1
      responses:
        '200':
          $ref: '#/components/responses/PersonalExpense'
        '404':
          description: personal-expense-sheet-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - personal-expense-v1
      description: create-personal-expense-v1
      requestBody:
        $ref: '#/components/requestBodies/CreatePersonalExpense'
  '/v1/expenses/personal/sheets/{personalExpenseSheetId}/expenses/{personalExpenseId}':
    parameters:
      - $ref: '#/components/parameters/Personal-Expense-Sheet-Id'
      - $ref: '#/components/parameters/Personal-Expense-Id'
    get:
      summary: V1 - Find personal expense
      tags:
        - personal-expense-v1
      responses:
        '200':
          $ref: '#/components/responses/PersonalExpense'
        '404':
          description: personal-expense-sheet-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: find-personal-expense-by-id-v1
      description: find-personal-expense-by-id-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
    patch:
      summary: V1 - Update personal expense
      operationId: update-personal-expense-v1
      responses:
        '200':
          $ref: '#/components/responses/PersonalExpense'
        '404':
          description: personal-expense-sheet-not-found | personal-expense-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - personal-expense-v1
      description: update-personal-expense-v1
      requestBody:
        $ref: '#/components/requestBodies/UpdatePersonalExpense'
    delete:
      summary: V1 - Delete personal expense
      operationId: delete-personal-expense-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: personal-expense-sheet-not-found | personal-expense-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - personal-expense-v1
      description: delete-personal-expense-v1
  /v1/shares/no-programmed:
    get:
      summary: V1 - List no programmed shares
      responses:
        '200':
          $ref: '#/components/responses/NoProgrammedShareList'
      operationId: list-no-programmed-shares-v1
      description: list-no-programmed-shares-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
      tags:
        - no-programmed-share-v1
    post:
      summary: V1 - Create no programmed share
      operationId: create-no-programmed-share-v1
      responses:
        '200':
          $ref: '#/components/responses/NoProgrammedShare'
        '404':
          description: user-not-found | project-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: create-no-programmed-share-v1
      tags:
        - no-programmed-share-v1
      requestBody:
        $ref: '#/components/requestBodies/CreateNoProgrammedShare'
  '/v1/shares/no-programmed/{shareId}':
    parameters:
      - $ref: '#/components/parameters/Share-Id'
    get:
      summary: V1 - Find no programmed share
      tags:
        - no-programmed-share-v1
      responses:
        '200':
          $ref: '#/components/responses/NoProgrammedShare'
        '404':
          description: no-programmed-share-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: find-no-programmed-share-by-id-v1
      description: find-no-programmed-share-by-id-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-locale
    patch:
      summary: V1 - Update no programmed share
      operationId: update-no-programmed-share-v1
      responses:
        '200':
          $ref: '#/components/responses/NoProgrammedShare'
        '404':
          description: no-programmed-share-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: update-no-programmed-share-v1
      tags:
        - no-programmed-share-v1
      requestBody:
        $ref: '#/components/requestBodies/UpdateNoProgrammedShare'
    delete:
      summary: V1 - Delete no programmed share
      operationId: delete-no-programmed-share-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: no-programmed-share-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: delete-no-programmed-share-v1
      tags:
        - no-programmed-share-v1
  '/v1/shares/no-programmed/{shareId}/files/{fileId}':
    parameters:
      - $ref: '#/components/parameters/Share-Id'
      - $ref: '#/components/parameters/File-Id'
    delete:
      summary: V1 - Delete no programmed share file
      operationId: delete-no-programmed-share-file-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: no-programmed-share-file-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - no-programmed-share-file-v1
      description: delete-no-programmed-share-file-v1
  '/v1/shares/no-programmed/{shareId}/inspections':
    parameters:
      - $ref: '#/components/parameters/Share-Id'
    get:
      summary: V1 - List inspections
      responses:
        '200':
          $ref: '#/components/responses/InspectionList'
        '404':
          description: no-programmed-share-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: list-inspections-v1
      description: list-inspections-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order-by
      tags:
        - inspection-v1
    post:
      summary: V1 - Create inspection
      operationId: create-inspection-v1
      responses:
        '200':
          $ref: '#/components/responses/Inspection'
        '404':
          description: no-programmed-share-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: create-inspection-v1
      requestBody:
        $ref: '#/components/requestBodies/CreateInspection'
      tags:
        - inspection-v1
  '/v1/shares/no-programmed/{shareId}/inspections/{inspectionId}':
    parameters:
      - $ref: '#/components/parameters/Share-Id'
      - $ref: '#/components/parameters/Inspection-Id'
    get:
      summary: V1 - Find inspection
      tags:
        - inspection-v1
      responses:
        '200':
          $ref: '#/components/responses/Inspection'
        '404':
          description: no-programmed-share-not-found | inspection-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: find-inspection-by-id-v1
      description: find-inspection-by-id-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
    patch:
      summary: V1 - Update inspection
      operationId: update-inspection-v1
      responses:
        '200':
          $ref: '#/components/responses/Inspection'
        '404':
          description: no-programmed-share-not-found | inspection-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - inspection-v1
      description: update-inspection-v1
      requestBody:
        $ref: '#/components/requestBodies/UpdateInspection'
    delete:
      summary: V1 - Delete inspection
      operationId: delete-inspection-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: no-programmed-share-not-found | inspection-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - inspection-v1
      description: delete-inspection-v1
  '/v1/shares/no-programmed/{shareId}/inspections/{inspectionId}/files/{fileId}':
    parameters:
      - $ref: '#/components/parameters/Share-Id'
      - $ref: '#/components/parameters/Inspection-Id'
      - $ref: '#/components/parameters/File-Id'
    delete:
      summary: V1 - Delete inspection file
      operationId: delete-inspection-file-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: inspection-file-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - inspection-file-v1
      description: delete-inspection-file-v1
  '/v1/shares/no-programmed/{shareId}/inspections/{inspectionId}/export':
    parameters:
      - $ref: '#/components/parameters/Share-Id'
      - $ref: '#/components/parameters/Inspection-Id'
    get:
      summary: V1 - Export inspection
      tags:
        - inspection-v1
      responses:
        '200':
          $ref: '#/components/responses/InspectionExport'
        '404':
          description: inspection-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: export-inspection-v1
      description: export-inspection-v1
      parameters: []
  '/v1/shares/no-programmed/{shareId}/inspections/{inspectionId}/export-materials':
    parameters:
      - $ref: '#/components/parameters/Share-Id'
      - $ref: '#/components/parameters/Inspection-Id'
    get:
      summary: V1 - Export inspection materials
      tags:
        - inspection-v1
      responses:
        '200':
          $ref: '#/components/responses/InspectionExport'
        '404':
          description: inspection-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: export-inspection-materials-v1
      description: export-inspection-materials-v1
      parameters: []
  /v1/signings/teleworking:
    get:
      summary: V1 - List teleworking signings
      responses:
        '200':
          $ref: '#/components/responses/TeleworkingSigningList'
      operationId: list-teleworking-signings-v1
      description: list-teleworking-signings-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order-by
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: ids
          description: Filter by teleworking signing identificator.
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: userIds
          description: Filter by user identificator.
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: projectIds
          description: Filter by project identificator.
        - schema:
            type: boolean
          in: query
          name: current
          description: Filter by current teleworking signings.
      tags:
        - teleworking-signing-v1
    post:
      summary: V1 - Create teleworking signing
      operationId: create-teleworking-signing-v1
      responses:
        '200':
          $ref: '#/components/responses/TeleworkingSigning'
        '404':
          description: user-not-found | project-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: create-teleworking-signing-v1
      tags:
        - teleworking-signing-v1
      requestBody:
        $ref: '#/components/requestBodies/CreateTeleworkingSigning'
  '/v1/signings/teleworking/{teleworkingSigningId}':
    parameters:
      - $ref: '#/components/parameters/Teleworking-Signing-Id'
    get:
      summary: V1 - Find teleworking signing
      tags:
        - teleworking-signing-v1
      responses:
        '200':
          $ref: '#/components/responses/TeleworkingSigning'
        '404':
          description: teleworking-signing-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: find-teleworking-signing-by-id-v1
      description: find-teleworking-signing-by-id-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
    patch:
      summary: V1 - Update teleworking signing
      operationId: update-teleworking-signing-v1
      responses:
        '200':
          $ref: '#/components/responses/TeleworkingSigning'
        '404':
          description: teleworking-signing-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: update-teleworking-signing-v1
      requestBody:
        $ref: '#/components/requestBodies/UpdateTeleworkingSigning'
      tags:
        - teleworking-signing-v1
    delete:
      summary: V1 - Delete teleworking signing
      operationId: delete-teleworking-signing-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: teleworking-signing-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: delete-teleworking-signing-v1
      tags:
        - teleworking-signing-v1
  /v1/time-controls:
    get:
      summary: V1 - List time controls
      responses:
        '200':
          $ref: '#/components/responses/TimeControlList'
      operationId: list-time-controls-v1
      description: list-time-controls-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - schema:
            type: integer
          in: query
          name: userId
          description: Search by user identificator.
        - schema:
            type: string
            format: date-time
          in: query
          name: startDate
          description: Search by start date.
        - schema:
            type: string
            format: date-time
          in: query
          name: endDate
          description: Search by end date.
        - schema:
            type: array
            items:
              type: string
              enum:
                - CONSTRUCTION_SHARES
                - DISPLACEMENT_SHARES
                - INSPECTIONS
                - MANUAL_SIGNINGS
                - PERSONAL_SIGNINGS
                - PROGRAMMED_SHARES
                - WORK_SHARES
          in: query
          name: types
          description: List of types to filter.
      tags:
        - time-control-v1
    parameters: []
  /v1/users:
    get:
      summary: V1 - List users
      responses:
        '200':
          $ref: '#/components/responses/UserList'
      operationId: list-users-v1
      description: list-users-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
      tags:
        - user-v1
    post:
      summary: ''
      operationId: post-api-users
      responses:
        '200':
          description: OK
      tags:
        - user-v1
    parameters: []
  '/v1/users/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
        description: User id.
    get:
      summary: Your GET endpoint
      tags:
        - user-v1
      responses:
        '200':
          description: OK
      operationId: get-api-users-id
    put:
      summary: ''
      operationId: put-api-users-id
      responses:
        '200':
          description: OK
      tags:
        - user-v1
    delete:
      summary: ''
      operationId: delete-api-users-id
      responses:
        '200':
          description: OK
      tags:
        - user-v1
components:
  schemas:
    Family:
      title: Family
      x-stoplight:
        id: wr1b8bilbahz0
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
          x-stoplight:
            id: 0q1hdsc073x4b
    Inspection:
      title: Inspection
      x-stoplight:
        id: isocdt4oo7s7y
      type: object
      properties:
        id:
          type: integer
        userSigning:
          $ref: '#/components/schemas/UserSigning'
        share:
          $ref: '#/components/schemas/NoProgrammedShare'
        action:
          type: string
          x-stoplight:
            id: 4v0eavn531ar2
          enum:
            - INTERVENTION
            - DIAGNOSIS
            - FOLLOWING
        startDate:
          type: string
          x-stoplight:
            id: 14nn1910i1mwc
          format: date-time
        endDate:
          type: string
          x-stoplight:
            id: 1blghe5381za3
          format: date-time
        description:
          type: string
          x-stoplight:
            id: b4w2w0bii3k0n
        firstTechnical:
          $ref: '#/components/schemas/User'
        secondTechnical:
          $ref: '#/components/schemas/User'
        signature:
          type: string
          x-stoplight:
            id: 8y6v5dl5jna1k
        operatorSignature:
          type: string
          x-stoplight:
            id: o4vgea6d0oj11
        clientName:
          type: string
          x-stoplight:
            id: y5zosfb602nzz
        materials:
          x-stoplight:
            id: 96cv7joi0oiwc
          type: array
          items:
            $ref: '#/components/schemas/Material'
        materialsFile:
          type: string
          x-stoplight:
            id: 8lfzk9pa7wyrg
        materialsFileName:
          type: string
          x-stoplight:
            id: 790fxpi66ikvh
        equipmentHours:
          type: integer
          x-stoplight:
            id: jlcvcmslrddth
        topicId:
          type: integer
          x-stoplight:
            id: jefh8p0m16cgw
        files:
          type: array
          x-stoplight:
            id: lxtp67qj9tr4z
          items:
            $ref: '#/components/schemas/ShareFile'
      required:
        - id
        - share
        - action
        - startDate
        - firstTechnical
    InspectionExport:
      title: InspectionExport
      x-stoplight:
        id: tasr45536jkpv
      type: object
      properties:
        fileName:
          type: string
          x-stoplight:
            id: e1jgjm7ps0rai
        content:
          type: string
          x-stoplight:
            id: f9995ys9avvcv
      required:
        - fileName
        - content
    NoProgrammedShare:
      title: NoProgrammedShare
      x-stoplight:
        id: nkbdyy6acj6uf
      type: object
      properties:
        id:
          type: integer
        user:
          $ref: '#/components/schemas/User'
        project:
          $ref: '#/components/schemas/Project'
        userSigning:
          $ref: '#/components/schemas/UserSigning'
        startDate:
          type: string
          x-stoplight:
            id: yizr915id0hco
          format: date-time
        endDate:
          type: string
          x-stoplight:
            id: hk6tamjfxzyw9
          format: date-time
        description:
          type: string
          x-stoplight:
            id: gdj67dr4ncyyd
        family:
          $ref: '#/components/schemas/Family'
        subFamily:
          $ref: '#/components/schemas/SubFamily'
        topicId:
          type: integer
          x-stoplight:
            id: j8jp9c1aphphk
        forumTitle:
          type: string
          x-stoplight:
            id: l7fu2mhea9mhk
        state:
          type: string
          x-stoplight:
            id: anff5xkbzmal1
          enum:
            - NEW
            - INITIALIZED
            - IN_PROGRESS
            - CLOSED
        lastDiagnosis:
          type: integer
          x-stoplight:
            id: g8rnuovvahzqf
        inspections:
          x-stoplight:
            id: vbc9pywk2s6rp
          type: array
          items:
            $ref: '#/components/schemas/Inspection'
        files:
          type: array
          x-stoplight:
            id: bm1bnujfonrek
          uniqueItems: true
          items:
            $ref: '#/components/schemas/ShareFile'
      required:
        - id
        - user
        - project
        - startDate
        - description
        - family
        - subFamily
        - state
    Project:
      title: Project
      x-stoplight:
        id: o6laestj8lfrr
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
          x-stoplight:
            id: ll4sov9aexq0v
    ShareFile:
      title: ShareFile
      x-stoplight:
        id: m8bximaz51t4c
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
          x-stoplight:
            id: oe2w9nxlwwwkk
        content:
          type: string
          x-stoplight:
            id: prsxmvb3f9spa
      required:
        - id
        - name
        - content
    SubFamily:
      title: SubFamily
      x-stoplight:
        id: mw171n2rxxhvr
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
          x-stoplight:
            id: lnngd121n48ga
    User:
      title: User
      type: object
      properties:
        id:
          type: integer
        username:
          type: string
        mail:
          type: string
        name:
          type: string
        surnames:
          type: string
        country:
          $ref: ../gestepm-master-data-api/api-spec.yaml#/components/schemas/Country
        activityCenter:
          $ref: ../gestepm-master-data-api/api-spec.yaml#/components/schemas/ActivityCenter
        role:
          $ref: ../gestepm-app-config-api/api-spec.yaml#/components/schemas/Role
        level:
          $ref: ../gestepm-master-data-api/api-spec.yaml#/components/schemas/Level
      required:
        - id
        - username
        - mail
    UserSigning:
      title: UserSigning
      x-stoplight:
        id: 0j82spjl8a6od
      type: object
      properties:
        id:
          type: integer
    Material:
      title: Material
      x-stoplight:
        id: 9erl59kl8o8oo
      type: object
      properties:
        id:
          type: integer
        description:
          type: string
          x-stoplight:
            id: rfh6ew7z1jlea
        units:
          type: integer
          x-stoplight:
            id: u4cp15j0fz8lx
        reference:
          type: string
          x-stoplight:
            id: 7lqm8m6y0f4ih
    PersonalExpense:
      title: PersonalExpense
      x-stoplight:
        id: 7p8m5tu2ab85y
      type: object
      properties:
        id:
          type: integer
        personalExpenseSheet:
          $ref: '#/components/schemas/PersonalExpenseSheet'
        startDate:
          type: string
          x-stoplight:
            id: f26og93fmf8dv
          format: date-time
        endDate:
          type: string
          x-stoplight:
            id: useudmoqcnkkz
          format: date-time
        description:
          type: string
          x-stoplight:
            id: 5j1v4qg9q277g
        priceType:
          type: string
          x-stoplight:
            id: v7q4oyubde0ej
          enum:
            - FLY
            - FOOD
            - GAS
            - GASOIL
            - GASOLINE
            - HOTEL
            - KMS
            - OTHER
            - PARKING
        quantity:
          type: number
          x-stoplight:
            id: 86j812wl5fqd1
          format: double
        amount:
          type: number
          x-stoplight:
            id: nidm8dwglw7r9
          format: double
        paymentType:
          type: string
          x-stoplight:
            id: dbahvttmqd5z1
          enum:
            - EPM_TARGET
            - OTHER
        files:
          x-stoplight:
            id: qh487u932xzh9
          type: array
          items:
            $ref: '#/components/schemas/ShareFile'
      required:
        - id
        - personalExpenseSheet
        - startDate
        - description
        - priceType
        - quantity
        - amount
        - paymentType
    PersonalExpenseSheet:
      title: PersonalExpenseSheet
      type: object
      properties:
        id:
          type: integer
        project:
          $ref: '#/components/schemas/Project'
        description:
          type: string
        status:
          type: string
          enum:
            - PENDING
            - APPROVED
            - PAID
            - REJECTED
        observations:
          type: string
        amount:
          type: number
          x-stoplight:
            id: 7uj2cfnsejbvk
          format: double
        personalExpenses:
          type: array
          x-stoplight:
            id: pnf39k0lwbaaw
          uniqueItems: true
          items:
            $ref: '#/components/schemas/PersonalExpense'
        createdAt:
          type: string
          format: date-time
          x-stoplight:
            id: 840jyj1hfgq49
        createdBy:
          $ref: '#/components/schemas/User'
        approvedAt:
          type: string
          format: date-time
        approvedBy:
          $ref: '#/components/schemas/User'
        paidAt:
          type: string
          format: date-time
        paidBy:
          $ref: '#/components/schemas/User'
        rejectedAt:
          type: string
          format: date-time
        rejectedBy:
          $ref: '#/components/schemas/User'
      required:
        - id
        - description
        - status
        - createdAt
        - createdBy
    TeleworkingSigning:
      title: TeleworkingSigning
      x-stoplight:
        id: csduyvebbu1tk
      type: object
      properties:
        id:
          type: integer
        user:
          $ref: '#/components/schemas/User'
        project:
          $ref: '#/components/schemas/Project'
        startedAt:
          type: string
          x-stoplight:
            id: 6tuljgwe6vldd
          format: date-time
        startedLocation:
          type: string
          x-stoplight:
            id: ion8zuj2aasab
        closedAt:
          type: string
          x-stoplight:
            id: am40gxt2tb2bo
          format: date-time
        closedLocation:
          type: string
          x-stoplight:
            id: c339v3olkdaxa
      required:
        - id
        - user
        - project
        - startedAt
    TimeControl:
      title: TimeControl
      x-stoplight:
        id: gwjw3a4nc9le4
      type: object
      properties:
        id:
          type: integer
        user:
          $ref: '#/components/schemas/User'
        type:
          type: string
          x-stoplight:
            id: jxoa1eylpmel0
          enum:
            - CONSTRUCTION_SHARES
            - DISPLACEMENT_SHARES
            - INSPECTIONS
            - MANUAL_SIGNINGS
            - PERSONAL_SIGNINGS
            - PROGRAMMED_SHARES
            - WORK_SHARES
        description:
          type: string
          x-stoplight:
            id: oriki5m2mchi5
        startDate:
          type: string
          x-stoplight:
            id: h08k04i7nbv7l
          format: date-time
        endDate:
          type: string
          x-stoplight:
            id: 6hy6vr2ibobsu
          format: date-time
      required:
        - id
        - type
        - startDate
        - endDate
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
  responses:
    NoProgrammedShare:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/NoProgrammedShare'
    NoProgrammedShareList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                x-stoplight:
                  id: dyvkfgdppk87v
                items:
                  $ref: '#/components/schemas/NoProgrammedShare'
    UserList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/User'
    InspectionList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/Inspection'
    Inspection:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/Inspection'
    InspectionExport:
      description: Example response
      content:
        application/octet-stream:
          schema:
            type: string
            format: binary
    PersonalExpenseSheetList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/PersonalExpenseSheet'
    PersonalExpenseSheet:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/PersonalExpenseSheet'
    PersonalExpense:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/PersonalExpense'
    PersonalExpenseList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/PersonalExpense'
    TeleworkingSigning:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/TeleworkingSigning'
    TeleworkingSigningList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/TeleworkingSigning'
    TimeControlList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/TimeControl'
  requestBodies:
    CreateNoProgrammedShare:
      content:
        application/json:
          schema:
            type: object
            properties:
              userId:
                x-stoplight:
                  id: vwybpkwl613hp
                type: integer
              projectId:
                x-stoplight:
                  id: 2juj0v781js7f
                type: integer
            required:
              - userId
              - projectId
    UpdateNoProgrammedShare:
      content:
        application/json:
          schema:
            type: object
            properties:
              userId:
                type: integer
              startDate:
                type: string
                format: date-time
              endDate:
                type: string
                format: date-time
              description:
                type: string
              familyId:
                type: integer
              subFamilyId:
                type: integer
              topicId:
                type: integer
              forumTitle:
                type: string
              state:
                type: string
                enum:
                  - NEW
                  - INITIALIZED
                  - IN_PROGRESS
                  - CLOSED
              files:
                type: array
                items:
                  type: object
                  format: binary
                  properties:
                    name:
                      type: string
                      x-stoplight:
                        id: y4v9ssqe7scoj
                    content:
                      type: string
                      x-field-extra-annotation: '@com.fasterxml.jackson.annotation.JsonIgnore'
                      x-stoplight:
                        id: 6ce64ca1txbth
            required:
              - userId
    CreateInspection:
      content:
        application/json:
          schema:
            type: object
            properties:
              firstTechnicalId:
                type: integer
                x-stoplight:
                  id: mo3kufj2a6q8i
              secondTechnicalId:
                type: integer
                x-stoplight:
                  id: nw4vwy5a4j020
              action:
                type: string
                x-stoplight:
                  id: 3wjg8ovua4dpo
                enum:
                  - INTERVENTION
                  - DIAGNOSIS
                  - FOLLOWING
            required:
              - firstTechnicalId
              - action
    UpdateInspection:
      content:
        application/json:
          schema:
            type: object
            properties:
              userId:
                type: integer
              action:
                type: string
                x-stoplight:
                  id: g7a5og6lprr3z
                enum:
                  - INTERVENTION
                  - DIAGNOSIS
                  - FOLLOWING
              description:
                type: string
                x-stoplight:
                  id: 51g2z0w667qn5
              firstTechnicalId:
                type: integer
                x-stoplight:
                  id: hlj8iv7ybklpt
              secondTechnicalId:
                type: string
                x-stoplight:
                  id: 74cdncarps5va
              signature:
                type: string
                x-stoplight:
                  id: tuy7ko9etwryl
              operatorSignature:
                type: string
                x-stoplight:
                  id: m1yshgsj7ekbo
              clientName:
                type: string
                x-stoplight:
                  id: 0c6m3cyog2nhk
              materials:
                type: array
                x-stoplight:
                  id: begtcvhk3jc1o
                items:
                  $ref: '#/components/schemas/Material'
              materialsFile:
                type: object
                x-stoplight:
                  id: 52so0d165nfib
                properties:
                  name:
                    type: string
                    x-stoplight:
                      id: 34xgcj290t9pz
                  content:
                    type: string
                    x-stoplight:
                      id: 34eu2yg71stbp
              equipmentHours:
                type: integer
                x-stoplight:
                  id: f68utayhplewm
              files:
                type: array
                x-stoplight:
                  id: lfdu9vub3ip95
                items:
                  x-stoplight:
                    id: drjhxhl33x20c
                  type: object
                  properties:
                    name:
                      type: string
                      x-stoplight:
                        id: vrhnxcl5lm6sy
                    content:
                      type: string
                      x-stoplight:
                        id: krfqwi7lui6wg
              notify:
                type: boolean
                x-stoplight:
                  id: c5vq4d1j24aah
            required:
              - userId
    CreatePersonalExpenseSheet:
      content:
        application/json:
          schema:
            type: object
            properties:
              projectId:
                type: integer
                x-stoplight:
                  id: 8r3uvh864fh5u
              description:
                type: string
                x-stoplight:
                  id: 2iejghsz0stp6
            required:
              - projectId
              - description
    UpdatePersonalExpenseSheet:
      content:
        application/json:
          schema:
            type: object
            properties:
              projectId:
                type: integer
                x-stoplight:
                  id: jbtm19r0f7glr
              description:
                type: string
                x-stoplight:
                  id: 8tvej36gttj3t
              startDate:
                type: string
                x-stoplight:
                  id: ii5jgz1zka70a
                format: date-time
              status:
                type: string
                x-stoplight:
                  id: n0uz1qwuliuyo
                enum:
                  - PENDING
                  - APPROVED
                  - PAID
                  - REJECTED
              observations:
                type: string
                x-stoplight:
                  id: hxnxfm3hss0lb
                  required:
                    - projectId
                    - description
    CreatePersonalExpense:
      content:
        application/json:
          schema:
            type: object
            properties:
              description:
                type: string
                x-stoplight:
                  id: jr6v1cexzkcdo
              priceType:
                type: string
                x-stoplight:
                  id: qg6k2yibwynol
                enum:
                  - FLY
                  - FOOD
                  - GAS
                  - GASOIL
                  - GASOLINE
                  - HOTEL
                  - KMS
                  - OTHER
                  - PARKING
              startDate:
                type: string
                x-stoplight:
                  id: sjz5o16wsimwj
                format: date-time
              quantity:
                type: number
                x-stoplight:
                  id: mic9rzefz663g
              amount:
                type: number
                x-stoplight:
                  id: cyl57o1sot4ct
              paymentType:
                type: string
                x-stoplight:
                  id: 3yob56ej9ahd5
                enum:
                  - EPM_TARGET
                  - OTHER
              files:
                type: array
                x-stoplight:
                  id: ykxch5kd37mzn
                items:
                  x-stoplight:
                    id: rucejqspgkan2
                  type: object
                  properties:
                    name:
                      type: string
                      x-stoplight:
                        id: 5ihf6r4q7fmq6
                    content:
                      type: string
                      x-stoplight:
                        id: g8zehn74u5to8
            required:
              - description
              - priceType
              - quantity
              - amount
              - paymentType
    UpdatePersonalExpense:
      content:
        application/json:
          schema:
            type: object
            properties:
              description:
                type: string
                x-stoplight:
                  id: uou5wue0hjufo
              priceType:
                type: string
                x-stoplight:
                  id: illekvxb08mpl
                enum:
                  - FLY
                  - FOOD
                  - GAS
                  - GASOIL
                  - GASOLINE
                  - HOTEL
                  - KMS
                  - OTHER
                  - PARKING
              startDate:
                type: string
                x-stoplight:
                  id: 4sihv8jtqxl01
                format: date-time
              quantity:
                type: number
                x-stoplight:
                  id: 8tcpvfpb8flkh
              amount:
                type: number
                x-stoplight:
                  id: 0ji21j8m32j50
              paymentType:
                type: string
                x-stoplight:
                  id: edle6xvid8apo
                enum:
                  - EPM_TARGET
                  - OTHER
              files:
                type: array
                x-stoplight:
                  id: ab8ztkw5dllg9
                items:
                  x-stoplight:
                    id: co481575metaf
                  type: object
                  properties:
                    name:
                      type: string
                      x-stoplight:
                        id: 4y19docf4oq0i
                    content:
                      type: string
                      x-stoplight:
                        id: 04lxf4x5d5z2q
            required:
              - description
              - priceType
              - quantity
              - amount
              - paymentType
    CreateTeleworkingSigning:
      content:
        application/json:
          schema:
            type: object
            properties:
              userId:
                type: integer
                x-stoplight:
                  id: 7kz5d7032gyti
              projectId:
                type: integer
                x-stoplight:
                  id: skucltu5mg4mu
              startedLocation:
                type: string
                x-stoplight:
                  id: jtsz60adt2sku
            required:
              - userId
              - projectId
    UpdateTeleworkingSigning:
      content:
        application/json:
          schema:
            type: object
            properties:
              startedAt:
                type: string
                x-stoplight:
                  id: y319m8k3jhtoo
                format: date-time
              closedLocation:
                type: string
                x-stoplight:
                  id: sssa78w366kr3
  parameters:
    Share-Id:
      name: shareId
      in: path
      required: true
      schema:
        type: integer
      description: Share identificator.
    Inspection-Id:
      name: inspectionId
      in: path
      required: true
      schema:
        type: integer
      description: Inspection identificator.
    Personal-Expense-Sheet-Id:
      name: personalExpenseSheetId
      in: path
      required: true
      schema:
        type: integer
      description: Personal expense sheet identificator.
    Personal-Expense-Id:
      name: personalExpenseId
      in: path
      required: true
      schema:
        type: integer
      description: Personal expense identificator.
    File-Id:
      name: fileId
      in: path
      required: true
      schema:
        type: integer
      description: File identificator.
    Teleworking-Signing-Id:
      name: teleworkingSigningId
      in: path
      required: true
      schema:
        type: integer
      description: Teleworking signing identificator.
tags:
  - name: personal-expense-sheet-v1
    description: V1 - Personal Expense Sheets
  - name: personal-expense-v1
    description: V1 - Personal Expenses
  - name: inspection-v1
    description: V1 - Inspection
  - name: inspection-file-v1
    description: V1 - Inspection File
  - name: no-programmed-share-v1
    description: V1 - No Programmed Share
  - name: no-programmed-share-file-v1
    description: V1 - No Programmed Share File
  - name: teleworking-signing-v1
    description: V1 - Teleworking Signing
  - name: time-control-v1
    description: V1 - Time control
  - name: user-v1
    description: V1 - User
