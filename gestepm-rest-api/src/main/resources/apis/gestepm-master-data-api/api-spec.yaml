openapi: 3.0.3
info:
  title: GestEPM Master Data API
  version: 0.1.0
  description: GestEPM Master Data API
  contact:
    name: Carlos Devesa PÃ©rez
servers:
  - url: /api
paths:
  /v1/activity-centers:
    parameters: []
    get:
      summary: V1 - List activity centers
      operationId: list-activity-centers-v1
      responses:
        '200':
          $ref: '#/components/responses/ActivityCenterList'
      description: list-activity-centers-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order-by
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: ids
          description: List of activity center ids to filter.
        - schema:
            type: string
          in: query
          name: name
          description: Search by activity center name.
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: countryIds
          description: List of country ids to filter.
      tags:
        - activity-centers-v1
    post:
      summary: V1 - Create activity center
      operationId: create-activity-center-v1
      responses:
        '200':
          $ref: '#/components/responses/ActivityCenter'
        '404':
          description: country-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
        '409':
          description: activity-center-already-exist
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: create-activity-center-v1
      requestBody:
        $ref: '#/components/requestBodies/CreateActivityCenter'
      tags:
        - activity-centers-v1
  '/v1/activity-centers/{id}':
    parameters:
      - schema:
          type: integer
        name: id
        in: path
        required: true
        description: Activity center id.
    get:
      summary: V1 - Find activity center
      responses:
        '200':
          $ref: '#/components/responses/ActivityCenter'
        '404':
          description: activity-center-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: find-activity-center-by-id-v1
      description: find-activity-center-by-id-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
      tags:
        - activity-centers-v1
    put:
      summary: V1 - Update activity center
      operationId: update-activity-center-v1
      responses:
        '200':
          $ref: '#/components/responses/ActivityCenter'
        '404':
          description: activity-center-not-found | country-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: update-activity-center-v1
      parameters: []
      requestBody:
        $ref: '#/components/requestBodies/UpdateActivityCenter'
      tags:
        - activity-centers-v1
    delete:
      summary: V1 - Delete activity center
      operationId: delete-activity-center-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: activity-center-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: delete-activity-center-v1
      tags:
        - activity-centers-v1
  /v1/countries:
    get:
      summary: V1 - List countries
      responses:
        '200':
          $ref: '#/components/responses/CountryList'
      operationId: list-countries-v1
      description: list-countries-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order-by
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: ids
          description: List of country ids to filter.
        - schema:
            type: string
          in: query
          name: name
          description: Search by country name.
        - schema:
            type: array
            items:
              type: string
          in: query
          name: tags
          description: List of tags to filter.
      tags:
        - countries-v1
    post:
      summary: V1 - Create country
      operationId: create-country-v1
      responses:
        '200':
          $ref: '#/components/responses/Country'
        '409':
          description: country-already-exist
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: create-country-v1
      requestBody:
        $ref: '#/components/requestBodies/CreateCountry'
      tags:
        - countries-v1
    parameters: []
  '/v1/countries/{id}':
    parameters:
      - schema:
          type: integer
        name: id
        in: path
        required: true
        description: Country id.
    get:
      summary: V1 - Find country
      responses:
        '200':
          $ref: '#/components/responses/Country'
        '404':
          description: country-not-found
      operationId: find-country-by-id-v1
      description: find-country-by-id-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
      tags:
        - countries-v1
    put:
      summary: V1 - Update country
      operationId: update-country-v1
      responses:
        '200':
          $ref: '#/components/responses/Country'
        '404':
          description: country-not-found
      description: update-country-v1
      requestBody:
        $ref: '#/components/requestBodies/UpdateCountry'
      tags:
        - countries-v1
    delete:
      summary: V1 - Delete country
      operationId: delete-country-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: country-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: delete-country-v1
      tags:
        - countries-v1
  /v1/families:
    get:
      summary: V1 - List families
      responses:
        '200':
          $ref: '#/components/responses/FamilyList'
      operationId: list-families-v1
      description: list-families-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order-by
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: ids
          description: List of family ids to filter.
        - schema:
            type: string
          in: query
          name: nameContains
          description: Search by family name contains.
      tags:
        - families-v1
    post:
      summary: V1 - Create family
      operationId: create-family-v1
      responses:
        '200':
          $ref: '#/components/responses/Family'
        '409':
          description: family-already-exist
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: create-family-v1
      requestBody:
        $ref: '#/components/requestBodies/CreateFamily'
      tags:
        - families-v1
    parameters: []
  '/v1/families/{id}':
    parameters:
      - schema:
          type: integer
        name: id
        in: path
        required: true
        description: Family id.
    get:
      summary: V1 - Find family
      responses:
        '200':
          $ref: '#/components/responses/Family'
        '404':
          description: family-not-found
      operationId: find-family-by-id-v1
      description: find-family-by-id-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
      tags:
        - families-v1
    put:
      summary: V1 - Update family
      operationId: update-family-v1
      responses:
        '200':
          $ref: '#/components/responses/Family'
        '404':
          description: family-not-found
      description: update-family-v1
      requestBody:
        $ref: '#/components/requestBodies/UpdateFamily'
      tags:
        - families-v1
    delete:
      summary: V1 - Delete family
      operationId: delete-family-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: family-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      description: delete-family-v1
      tags:
        - families-v1
  /v1/holidays:
    get:
      summary: V1 - List holidays
      tags:
        - holidays-v1
      responses:
        '200':
          $ref: '#/components/responses/HolidayList'
      operationId: list-holidays-v1
      description: list-holidays-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order-by
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: ids
          description: List of holiday ids to filter.
        - schema:
            type: string
          in: query
          name: name
          description: Search by holiday name.
        - schema:
            type: integer
            format: date
          in: query
          name: day
          description: Search by holiday day.
        - schema:
            type: integer
            format: date
          in: query
          name: month
          description: Search by holiday month.
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: countryIds
          description: List of holiday countries to filter.
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: activityCenterIds
          description: List of holiday activity centers to filter.
    post:
      summary: V1 - Create holidays
      operationId: create-holiday-v1
      responses:
        '200':
          $ref: '#/components/responses/Holiday'
        '404':
          description: country-not-found | activity-center-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - holidays-v1
      description: create-holiday-v1
      requestBody:
        $ref: '#/components/requestBodies/CreateHoliday'
    parameters: []
  '/v1/holidays/{id}':
    parameters:
      - schema:
          type: integer
        name: id
        in: path
        required: true
        description: Holiday id.
    get:
      summary: V1 - Find holiday
      tags:
        - holidays-v1
      responses:
        '200':
          $ref: '#/components/responses/Holiday'
        '404':
          description: holiday-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: find-holiday-by-id-v1
      description: find-holiday-by-id-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-expand
    put:
      summary: V1 - Update holiday
      operationId: update-holiday-v1
      responses:
        '200':
          $ref: '#/components/responses/Holiday'
        '404':
          description: holiday-not-found | country-not-found | activity-center-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - holidays-v1
      description: update-holiday-v1
      parameters: []
      requestBody:
        $ref: '#/components/requestBodies/UpdateHoliday'
    delete:
      summary: V1 - Delete holiday
      operationId: delete-holiday-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: holiday-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - holidays-v1
      description: delete-holiday-v1
  /v1/levels:
    get:
      summary: V1 - List levels
      tags:
        - levels-v1
      responses:
        '200':
          $ref: '#/components/responses/LevelList'
      operationId: list-levels-v1
      description: list-levels-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-offset
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-pagination-limit
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order
        - $ref: ../../base-api-spec.yaml#/components/parameters/filter-order-by
        - schema:
            type: array
            items:
              type: integer
          in: query
          name: ids
          description: List of level ids to filter.
        - schema:
            type: string
          in: query
          name: name
          description: Search by level name.
    parameters: []
    post:
      summary: V1 - Create level
      operationId: create-level-v1
      responses:
        '200':
          $ref: '#/components/responses/Level'
        '409':
          description: level-already-exists
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - levels-v1
      description: create-level-v1
      requestBody:
        $ref: '#/components/requestBodies/CreateLevel'
  '/v1/levels/{id}':
    parameters:
      - schema:
          type: integer
        name: id
        in: path
        required: true
        description: Level id.
    get:
      summary: V1 - Find level
      tags:
        - levels-v1
      responses:
        '200':
          $ref: '#/components/responses/Level'
        '404':
          description: level-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      operationId: find-level-by-id-v1
      description: find-level-by-id-v1
      parameters:
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-meta
        - $ref: ../../base-api-spec.yaml#/components/parameters/api-opt-links
    put:
      summary: V1 - Update Level
      operationId: update-level-v1
      responses:
        '200':
          $ref: '#/components/responses/Level'
        '404':
          description: level-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
        '409':
          description: level-already-exists
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - levels-v1
      description: update-level-v1
      requestBody:
        $ref: '#/components/requestBodies/UpdateLevel'
    delete:
      summary: V1 - Delete level
      operationId: delete-level-v1
      responses:
        '200':
          description: '**OK**'
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResSuccess
        '404':
          description: level-not-found
          content:
            application/json:
              schema:
                $ref: ../../base-api-spec.yaml#/components/schemas/ResError
      tags:
        - levels-v1
      description: delete-level-v1
components:
  schemas:
    ActivityCenter:
      title: ActivityCenter
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        country:
          $ref: '#/components/schemas/Country'
      required:
        - id
        - name
        - country
    Country:
      title: Country
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        tag:
          type: string
      required:
        - id
        - name
        - tag
    Family:
      title: Family
      x-stoplight:
        id: imwhwbl42myae
      type: object
      properties:
        id:
          type: integer
        nameES:
          type: string
          x-stoplight:
            id: 9xwqfzmj0dvbj
        nameFR:
          type: string
          x-stoplight:
            id: 2iwg4se8kuqrn
        common:
          type: boolean
          x-stoplight:
            id: 5kv52er4b9n4k
      required:
        - id
        - nameES
        - nameFR
        - common
    Holiday:
      title: Holiday
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        day:
          type: integer
          format: date
          x-stoplight:
            id: 9s10celwcbojh
        month:
          type: integer
          x-stoplight:
            id: gfr8y5iy7omn3
        country:
          $ref: '#/components/schemas/Country'
        activityCenter:
          $ref: '#/components/schemas/ActivityCenter'
      required:
        - id
        - name
        - day
        - month
        - country
    Level:
      title: Level
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        hourPrice:
          type: number
          format: double
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
  requestBodies:
    CreateFamily:
      content:
        application/json:
          schema:
            type: object
            properties:
              nameES:
                type: string
                x-stoplight:
                  id: g1t4dy1dxy79l
              nameFR:
                type: string
                x-stoplight:
                  id: uwlrrnvmtle6f
              common:
                type: boolean
                x-stoplight:
                  id: vvarli1utola2
                default: false
            required:
              - nameES
              - nameFR
              - common
    UpdateFamily:
      content:
        application/json:
          schema:
            type: object
            properties:
              nameES:
                type: string
                x-stoplight:
                  id: jsh6259w9rite
              nameFR:
                type: string
                x-stoplight:
                  id: i8a9o1h57i0wl
              common:
                type: boolean
                x-stoplight:
                  id: qoe7b9zqjslaf
            required:
              - nameES
              - nameFR
              - common
    CreateActivityCenter:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                x-stoplight:
                  id: yelqobrl7nota
              countryId:
                type: integer
                x-stoplight:
                  id: 3n4jfs00mz7j5
            required:
              - name
              - countryId
    UpdateActivityCenter:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                x-stoplight:
                  id: 3wyi5e220efb6
              countryId:
                type: integer
                x-stoplight:
                  id: jy70gnxajvuvb
            required:
              - name
              - countryId
    CreateCountry:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                x-stoplight:
                  id: bs3l819usi6cd
              tag:
                type: string
                x-stoplight:
                  id: 9gpg3hhbufvm2
            required:
              - name
              - tag
    UpdateCountry:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                x-stoplight:
                  id: ouu032r6k5vkf
              tag:
                type: string
                x-stoplight:
                  id: dh5kbwi4qxgr8
            required:
              - name
              - tag
    CreateLevel:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                x-stoplight:
                  id: 2xouqqsdn1djz
              hourPrice:
                type: number
                x-stoplight:
                  id: jylxv3p19zzlp
                format: double
            required:
              - name
              - hourPrice
    UpdateLevel:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                x-stoplight:
                  id: pd9uem96vgk4z
              hourPrice:
                type: number
                x-stoplight:
                  id: bxaesrr3lwo82
                format: double
            required:
              - name
              - hourPrice
    CreateHoliday:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                x-stoplight:
                  id: nsm2znskqszj8
              day:
                type: integer
                format: date
                x-stoplight:
                  id: lzheiivqtn4ej
              month:
                type: integer
                x-stoplight:
                  id: wlhzqj9h50ndi
              countryId:
                type: integer
                x-stoplight:
                  id: amvgmks8wysk2
              activityCenterId:
                type: integer
                x-stoplight:
                  id: 3bhw5f7222106
            required:
              - name
              - day
              - month
              - countryId
    UpdateHoliday:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                x-stoplight:
                  id: 82engfohghqk2
              day:
                type: integer
                format: date
                x-stoplight:
                  id: h4bx1pr9b2t0r
              month:
                type: integer
                x-stoplight:
                  id: 3hvdazwa8hd61
              countryId:
                type: integer
                x-stoplight:
                  id: 85lub39np2du6
              activityCenterId:
                type: integer
                x-stoplight:
                  id: 3q33yfszu21ef
            required:
              - name
              - day
              - month
              - countryId
  responses:
    ActivityCenter:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/ActivityCenter'
    ActivityCenterList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ActivityCenter'
    Country:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/Country'
    CountryList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/Country'
    Family:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/Family'
    FamilyList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/Family'
    Holiday:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/Holiday'
    HolidayList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/Holiday'
    Level:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                $ref: '#/components/schemas/Level'
    LevelList:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              metadata:
                $ref: ../../base-api-spec.yaml#/components/schemas/Meta
              data:
                type: array
                items:
                  $ref: '#/components/schemas/Level'
tags:
  - name: activity-centers-v1
    description: V1 - Activity centers
  - name: countries-v1
    description: V1 - Countries
  - name: families-v1
    description: V1 - Families
  - name: holidays-v1
    description: V1 - Holidays
  - name: levels-v1
    description: V1 - Levels
